{"traceId":"144330f8d8f233e966721355466407f1","spans":{"ebf91ef59d45a444":{"spanId":"ebf91ef59d45a444","traceId":"144330f8d8f233e966721355466407f1","parentSpanId":"c5af25cb54a265ae","startTime":1748418922822,"endTime":1748418942679.2283,"attributes":{"genkit:type":"action","genkit:metadata:subtype":"model","genkit:name":"vertexai/gemini-2.5-pro-preview-05-06","genkit:path":"/{nutritionAnalysisFlow,t:flow}/{generate,t:util}/{vertexai/gemini-2.5-pro-preview-05-06,t:action,s:model}","genkit:input":"{\"messages\":[{\"role\":\"user\",\"content\":[{\"text\":\"You are a professional nutritionist.  \\nGiven the following list of foods with their amounts, estimate the **total nutrition values** for the entire list and avoid ranges or approximations.\\n\\nInclude the following fields (units in parentheses):  \\n- \\\"calories\\\" (kcal)  \\n- \\\"carbohydrate\\\" (g)  \\n- \\\"protein\\\" (g)  \\n- \\\"fat\\\" (g)  \\n\\nReturn only a valid JSON object with **numeric values**, without any explanation or extra text.\\n\\nFoods: [object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object]\"},{\"text\":\"Output should be in JSON format and conform to the following schema:\\n\\n```\\n{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{\\\"calories\\\":{\\\"type\\\":\\\"number\\\"},\\\"carbohydrate\\\":{\\\"type\\\":\\\"number\\\"},\\\"protein\\\":{\\\"type\\\":\\\"number\\\"},\\\"fat\\\":{\\\"type\\\":\\\"number\\\"}},\\\"required\\\":[\\\"calories\\\",\\\"carbohydrate\\\",\\\"protein\\\",\\\"fat\\\"],\\\"additionalProperties\\\":true,\\\"$schema\\\":\\\"http://json-schema.org/draft-07/schema#\\\"}\\n```\\n\",\"metadata\":{\"purpose\":\"output\"}}]}],\"config\":{},\"tools\":[],\"output\":{\"constrained\":false}}","genkit:output":"{\"candidates\":[{\"index\":0,\"message\":{\"role\":\"model\",\"content\":[{\"text\":\"```json\\n{\\n  \\\"calories\\\": 1215,\\n  \\\"carbohydrate\\\": 114.1,\\n  \\\"protein\\\": 67.4,\\n  \\\"fat\\\": 58.0\\n}\\n```\"}]},\"finishReason\":\"stop\",\"custom\":{\"citationMetadata\":{\"citations\":[{\"startIndex\":152,\"endIndex\":288,\"title\":\"District of Columbia Appropriations\",\"publicationDate\":{\"year\":1920}}]}}}],\"custom\":{\"candidates\":[{\"content\":{\"role\":\"model\",\"parts\":[{\"text\":\"```json\\n{\\n  \\\"calories\\\": 1215,\\n  \\\"carbohydrate\\\": 114.1,\\n  \\\"protein\\\": 67.4,\\n  \\\"fat\\\": 58.0\\n}\\n```\"}]},\"finishReason\":\"STOP\",\"citationMetadata\":{\"citations\":[{\"startIndex\":152,\"endIndex\":288,\"title\":\"District of Columbia Appropriations\",\"publicationDate\":{\"year\":1920}}]},\"avgLogprobs\":-8.859597260097289,\"index\":0}],\"usageMetadata\":{\"promptTokenCount\":225,\"candidatesTokenCount\":53,\"totalTokenCount\":2214,\"trafficType\":\"ON_DEMAND\",\"promptTokensDetails\":[{\"modality\":\"TEXT\",\"tokenCount\":225}],\"candidatesTokensDetails\":[{\"modality\":\"TEXT\",\"tokenCount\":53}],\"thoughtsTokenCount\":1936},\"modelVersion\":\"gemini-2.5-pro-preview-05-06\",\"createTime\":\"2025-05-28T07:55:22.966300Z\",\"responseId\":\"asE2aJz9OvX9ld8PtJKR-Ao\"},\"usage\":{\"inputCharacters\":930,\"inputImages\":0,\"inputVideos\":0,\"inputAudioFiles\":0,\"outputCharacters\":93,\"outputImages\":0,\"outputVideos\":0,\"outputAudioFiles\":0,\"inputTokens\":225,\"outputTokens\":53,\"totalTokens\":2214},\"latencyMs\":19857.007207999937}","genkit:state":"success"},"displayName":"vertexai/gemini-2.5-pro-preview-05-06","links":[],"instrumentationLibrary":{"name":"genkit-tracer","version":"v1"},"spanKind":"INTERNAL","sameProcessAsParentSpan":{"value":true},"status":{"code":0},"timeEvents":{"timeEvent":[]}},"c5af25cb54a265ae":{"spanId":"c5af25cb54a265ae","traceId":"144330f8d8f233e966721355466407f1","parentSpanId":"503d7e4e386be030","startTime":1748418922820,"endTime":1748418942688.67,"attributes":{"genkit:type":"util","genkit:name":"generate","genkit:path":"/{nutritionAnalysisFlow,t:flow}/{generate,t:util}","genkit:input":"{\"model\":\"vertexai/gemini-2.5-pro-preview-05-06\",\"messages\":[{\"role\":\"user\",\"content\":[{\"text\":\"You are a professional nutritionist.  \\nGiven the following list of foods with their amounts, estimate the **total nutrition values** for the entire list and avoid ranges or approximations.\\n\\nInclude the following fields (units in parentheses):  \\n- \\\"calories\\\" (kcal)  \\n- \\\"carbohydrate\\\" (g)  \\n- \\\"protein\\\" (g)  \\n- \\\"fat\\\" (g)  \\n\\nReturn only a valid JSON object with **numeric values**, without any explanation or extra text.\\n\\nFoods: [object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object]\"}]}],\"config\":{},\"output\":{\"schema\":{\"_def\":{\"unknownKeys\":\"strip\",\"catchall\":{\"_def\":{\"typeName\":\"ZodNever\"},\"~standard\":{\"version\":1,\"vendor\":\"zod\"}},\"typeName\":\"ZodObject\"},\"~standard\":{\"version\":1,\"vendor\":\"zod\"},\"_cached\":null},\"format\":\"json\",\"jsonSchema\":{\"type\":\"object\",\"properties\":{\"calories\":{\"type\":\"number\"},\"carbohydrate\":{\"type\":\"number\"},\"protein\":{\"type\":\"number\"},\"fat\":{\"type\":\"number\"}},\"required\":[\"calories\",\"carbohydrate\",\"protein\",\"fat\"],\"additionalProperties\":true,\"$schema\":\"http://json-schema.org/draft-07/schema#\"}}}","genkit:output":"{\"message\":{\"role\":\"model\",\"content\":[{\"text\":\"```json\\n{\\n  \\\"calories\\\": 1215,\\n  \\\"carbohydrate\\\": 114.1,\\n  \\\"protein\\\": 67.4,\\n  \\\"fat\\\": 58.0\\n}\\n```\"}]},\"finishReason\":\"stop\",\"usage\":{\"inputCharacters\":930,\"inputImages\":0,\"inputVideos\":0,\"inputAudioFiles\":0,\"outputCharacters\":93,\"outputImages\":0,\"outputVideos\":0,\"outputAudioFiles\":0,\"inputTokens\":225,\"outputTokens\":53,\"totalTokens\":2214},\"custom\":{\"candidates\":[{\"content\":{\"role\":\"model\",\"parts\":[{\"text\":\"```json\\n{\\n  \\\"calories\\\": 1215,\\n  \\\"carbohydrate\\\": 114.1,\\n  \\\"protein\\\": 67.4,\\n  \\\"fat\\\": 58.0\\n}\\n```\"}]},\"finishReason\":\"STOP\",\"citationMetadata\":{\"citations\":[{\"startIndex\":152,\"endIndex\":288,\"title\":\"District of Columbia Appropriations\",\"publicationDate\":{\"year\":1920}}]},\"avgLogprobs\":-8.859597260097289,\"index\":0}],\"usageMetadata\":{\"promptTokenCount\":225,\"candidatesTokenCount\":53,\"totalTokenCount\":2214,\"trafficType\":\"ON_DEMAND\",\"promptTokensDetails\":[{\"modality\":\"TEXT\",\"tokenCount\":225}],\"candidatesTokensDetails\":[{\"modality\":\"TEXT\",\"tokenCount\":53}],\"thoughtsTokenCount\":1936},\"modelVersion\":\"gemini-2.5-pro-preview-05-06\",\"createTime\":\"2025-05-28T07:55:22.966300Z\",\"responseId\":\"asE2aJz9OvX9ld8PtJKR-Ao\"},\"request\":{\"messages\":[{\"role\":\"user\",\"content\":[{\"text\":\"You are a professional nutritionist.  \\nGiven the following list of foods with their amounts, estimate the **total nutrition values** for the entire list and avoid ranges or approximations.\\n\\nInclude the following fields (units in parentheses):  \\n- \\\"calories\\\" (kcal)  \\n- \\\"carbohydrate\\\" (g)  \\n- \\\"protein\\\" (g)  \\n- \\\"fat\\\" (g)  \\n\\nReturn only a valid JSON object with **numeric values**, without any explanation or extra text.\\n\\nFoods: [object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object]\"}]}],\"config\":{},\"tools\":[],\"output\":{\"constrained\":true,\"contentType\":\"application/json\",\"format\":\"json\",\"schema\":{\"type\":\"object\",\"properties\":{\"calories\":{\"type\":\"number\"},\"carbohydrate\":{\"type\":\"number\"},\"protein\":{\"type\":\"number\"},\"fat\":{\"type\":\"number\"}},\"required\":[\"calories\",\"carbohydrate\",\"protein\",\"fat\"],\"additionalProperties\":true,\"$schema\":\"http://json-schema.org/draft-07/schema#\"}}}}","genkit:state":"success"},"displayName":"generate","links":[],"instrumentationLibrary":{"name":"genkit-tracer","version":"v1"},"spanKind":"INTERNAL","sameProcessAsParentSpan":{"value":true},"status":{"code":0},"timeEvents":{"timeEvent":[]}},"503d7e4e386be030":{"spanId":"503d7e4e386be030","traceId":"144330f8d8f233e966721355466407f1","startTime":1748418922819,"endTime":1748418942688.8647,"attributes":{"genkit:type":"action","genkit:metadata:subtype":"flow","genkit:name":"nutritionAnalysisFlow","genkit:isRoot":true,"genkit:path":"/{nutritionAnalysisFlow,t:flow}","genkit:input":"{\"foods\":[{\"name\":\"Sesame Seed Bun (Top Half)\",\"amount\":\"33 grams\"},{\"name\":\"Ketchup\",\"amount\":\"9 ml\"},{\"name\":\"Mustard\",\"amount\":\"3 ml\"},{\"name\":\"Diced Onion\",\"amount\":\"7 grams\"},{\"name\":\"Pickle Slices\",\"amount\":\"2 pieces\"},{\"name\":\"American Cheese Slice (on patty)\",\"amount\":\"1 slice\"},{\"name\":\"Cooked Beef Patty\",\"amount\":\"84 grams\"},{\"name\":\"American Cheese Slice (under patty)\",\"amount\":\"1 slice\"},{\"name\":\"Burger Bun (Bottom Half)\",\"amount\":\"30 grams\"}]}","genkit:output":"{\"calories\":1215,\"carbohydrate\":114.1,\"protein\":67.4,\"fat\":58}","genkit:state":"success"},"displayName":"nutritionAnalysisFlow","links":[],"instrumentationLibrary":{"name":"genkit-tracer","version":"v1"},"spanKind":"INTERNAL","sameProcessAsParentSpan":{"value":true},"status":{"code":0},"timeEvents":{"timeEvent":[]}}},"displayName":"nutritionAnalysisFlow","startTime":1748418922819,"endTime":1748418942688.8647}